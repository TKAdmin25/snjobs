---
import { CardJob } from "@/components/card/CardJob/CardJob";
import { WrapperContentDelimiter } from "@/components/wrapper/WrapperContentDelimiter";
import type { jobs } from "@prisma/client";
import Pagination from "./Pagination.astro";
import FormNewsletter from "@/components/form/FormNewsletter.astro";

interface Props {
  title: string;
  jobs: jobs[];
  hasResults: boolean;
  shouldShowPagination: boolean;
  currentPage: number;
  totalPages: number;
}

const {
  title,
  jobs,
  hasResults,
  shouldShowPagination,
  currentPage,
  totalPages
} = Astro.props;
---

<WrapperContentDelimiter ariaLabelledBy="jobs-title" className="pt-4">
  <div class="mb-6">
    <h1 id="jobs-title" class="text-3xl lg:text-[2rem]">{title}</h1>
    {
      !hasResults && (
        <p class="text-gray-600 text-sm lg:text-base">
          No results found. Check out these recent jobs
        </p>
      )
    }
  </div>

  <div class="flex flex-col md:flex-row items-start md:gap-4">
    <div>
      <div class="grid gap-4">
        {jobs.map((job) => <CardJob job={job} />)}
      </div>
      {
        shouldShowPagination && (
          <Pagination currentPage={currentPage} totalPages={totalPages} />
        )
      }
    </div>
    <FormNewsletter />
  </div>
</WrapperContentDelimiter>
